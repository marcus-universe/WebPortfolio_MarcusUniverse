{"remainingRequest":"M:\\Me\\WebPortfolio_2022\\node_modules\\babel-loader\\lib\\index.js!M:\\Me\\WebPortfolio_2022\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!M:\\Me\\WebPortfolio_2022\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!M:\\Me\\WebPortfolio_2022\\src\\views\\Explore.vue?vue&type=script&lang=js","dependencies":[{"path":"M:\\Me\\WebPortfolio_2022\\src\\views\\Explore.vue","mtime":1670926086000},{"path":"M:\\Me\\WebPortfolio_2022\\babel.config.js","mtime":1644654802000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669048916000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\babel-loader\\lib\\index.js","mtime":1667990788000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669048916000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1670695058000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlZiwgb25Nb3VudGVkLCBvblVubW91bnRlZCwgY29tcHV0ZWQsIGRlZmluZUFzeW5jQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IFdvcmtUaHVtYm5haWwgZnJvbSAnQC9jb21wb25lbnRzL0V4cGxvcmUvV29ya1RodW1ibmFpbC52dWUnOwppbXBvcnQgRXhwbG9yZUJhbm5lciBmcm9tICdAL2NvbXBvbmVudHMvRXhwbG9yZS9FeHBsb3JlQmFubmVyLnZ1ZSc7CmNvbnN0IE1vcmVXb3JrcyA9IGRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IGltcG9ydCggLyogd2VicGFja0NodW5rTmFtZTogJ21vcmVfd29ya3MnICovJ0AvY29tcG9uZW50cy9FeHBsb3JlL01vcmVXb3Jrcy52dWUnKSk7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXhwbG9yZScsCiAgc2V0dXAoKSB7CiAgICBjb25zdCB3b3JrRG9tID0gcmVmKG51bGwpOwogICAgY29uc3Qgc2xpY2VOdW1iZXIgPSByZWYoNik7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCB3b3JrcyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnN0YXRlLndvcmtzKTsKICAgIGNvbnN0IGxvYWRXb3JrcyA9IGNvbXB1dGVkKCgpID0+IHsKICAgICAgY29uc3Qgd29ya0xpc3QgPSBbXTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGljZU51bWJlci52YWx1ZTsgaSsrKSB7CiAgICAgICAgd29ya0xpc3QucHVzaCh3b3Jrcy52YWx1ZVtpXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHdvcmtMaXN0OwogICAgfSk7CiAgICBjb25zb2xlLmxvZyhsb2FkV29ya3MudmFsdWUpOwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7CiAgICB9KTsKICAgIG9uVW5tb3VudGVkKCgpID0+IHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCk7CiAgICB9KTsKICAgIGZ1bmN0aW9uIGxvYWRNb3JlV29ya3MoKSB7CiAgICAgIGlmIChzbGljZU51bWJlci52YWx1ZSA8IHdvcmtzLnZhbHVlLmxlbmd0aCkgewogICAgICAgIGlmICh3b3Jrcy52YWx1ZS5sZW5ndGggJSAyID09PSAwKSB7CiAgICAgICAgICBzbGljZU51bWJlci52YWx1ZSArPSAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzbGljZU51bWJlci52YWx1ZSArPSAzOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoc2xpY2VOdW1iZXIudmFsdWUgPT09IHdvcmtzLnZhbHVlLmxlbmd0aCB8fCBzbGljZU51bWJlci52YWx1ZSA+IHdvcmtzLnZhbHVlLmxlbmd0aCkgewogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpOwogICAgICB9CiAgICB9CiAgICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7CiAgICAgIGNvbnN0IGVsZW1lbnQgPSB3b3JrRG9tLnZhbHVlOwogICAgICB0cnkgewogICAgICAgIGlmIChlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSA8IHdpbmRvdy5pbm5lckhlaWdodCkgewogICAgICAgICAgbG9hZE1vcmVXb3JrcygpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgc2xpY2VOdW1iZXIudmFsdWUgPSB3b3Jrcy52YWx1ZS5sZW5ndGg7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gewogICAgICB3b3JrRG9tLAogICAgICBzbGljZU51bWJlciwKICAgICAgbG9hZFdvcmtzLAogICAgICBzdG9yZSwKICAgICAgd29ya3MKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBXb3JrVGh1bWJuYWlsLAogICAgRXhwbG9yZUJhbm5lciwKICAgIE1vcmVXb3JrcwogIH0sCiAgbWV0aG9kczoge30sCiAgY29tcHV0ZWQ6IHsKICAgIGNvbG9yX3AoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jb2xvcl9wOwogICAgfSwKICAgIGNvbG9yX2JnKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY29sb3JfYmc7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yX3AnLCAnI0ZGQTA1RicpOwogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLWNvbG9yX2JnJywgJzY2LCA0MCwgMzUnKTsKICB9Cn07"},{"version":3,"mappings":"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","names":["ref","onMounted","onUnmounted","computed","defineAsyncComponent","WorkThumbnail","ExploreBanner","MoreWorks","useStore","name","setup","workDom","sliceNumber","store","works","state","loadWorks","workList","i","value","push","console","log","window","addEventListener","handleScroll","removeEventListener","loadMoreWorks","length","element","getBoundingClientRect","bottom","innerHeight","error","components","methods","color_p","$store","color_bg","mounted","document","documentElement","style","setProperty"],"sourceRoot":"","sources":["M:\\Me\\WebPortfolio_2022\\src\\views\\Explore.vue"],"sourcesContent":["<template>\r\n\r\n<div class=\"Section Explore\">\r\n\r\n\r\n    <ExploreBanner />\r\n    <div ref=\"workDom\" class=\"workDom\">\r\n        <transition-group\r\n            name=\"fadeWork\"\r\n            tag=\"div\"\r\n            class=\"flex_c_h flex_wrap gap2 WorkList\">\r\n            <WorkThumbnail\r\n                v-for=\"(work, index) in loadWorks\"\r\n                :key=\"work\"\r\n                :work=\"work\"\r\n                :index=\"index\" />\r\n        </transition-group>\r\n    </div>\r\n\r\n    <MoreWorks />\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    ref,\r\n    onMounted,\r\n    onUnmounted,\r\n    computed,\r\n    defineAsyncComponent\r\n} from 'vue'\r\n\r\nimport WorkThumbnail from '@/components/Explore/WorkThumbnail.vue'\r\nimport ExploreBanner from '@/components/Explore/ExploreBanner.vue'\r\nconst MoreWorks = defineAsyncComponent(() =>\r\n    import( /* webpackChunkName: 'more_works' */  '@/components/Explore/MoreWorks.vue')\r\n)\r\nimport {\r\n    useStore\r\n} from 'vuex'\r\n\r\nexport default {\r\n    name: 'Explore',\r\n    setup() {\r\n\r\n        const workDom = ref(null)\r\n        const sliceNumber = ref(6)\r\n        const store = useStore()\r\n        const works = computed(() => store.state.works)\r\n\r\n        const loadWorks = computed(() => {\r\n            const workList = []\r\n            for (let i = 0; i < sliceNumber.value; i++) {\r\n                workList.push(works.value[i])\r\n            }\r\n            return workList\r\n        })\r\n        console.log(loadWorks.value)\r\n\r\n        onMounted(() => {\r\n            window.addEventListener('scroll', handleScroll)\r\n        })\r\n\r\n        onUnmounted(() => {\r\n            window.removeEventListener('scroll', handleScroll)\r\n        })\r\n\r\n        function loadMoreWorks(){\r\n            if (sliceNumber.value < works.value.length) {\r\n                if (works.value.length % 2 === 0) {\r\n                    sliceNumber.value += 2\r\n                } else {\r\n                    sliceNumber.value += 3\r\n                }\r\n            }\r\n\r\n            if (sliceNumber.value === works.value.length || sliceNumber.value > works.value.length) {\r\n                window.removeEventListener('scroll', handleScroll)\r\n            }\r\n        }\r\n\r\n        const handleScroll = () => {\r\n            const element = workDom.value\r\n            try {\r\n                if (element.getBoundingClientRect().bottom < window.innerHeight) {\r\n                    loadMoreWorks()\r\n                } \r\n            }catch (error) {\r\n                console.log(error)\r\n                sliceNumber.value = works.value.length\r\n            }\r\n            \r\n        }\r\n\r\n        return {\r\n            workDom,\r\n            sliceNumber,\r\n            loadWorks,\r\n            store,\r\n            works\r\n        }\r\n    },\r\n    components: {\r\n        WorkThumbnail,\r\n        ExploreBanner,\r\n        MoreWorks,\r\n\r\n    },\r\n    methods: {\r\n\r\n    },\r\n\r\n    computed: {\r\n        color_p() {\r\n            return this.$store.state.color_p;\r\n        },\r\n        color_bg() {\r\n            return this.$store.state.color_bg;\r\n        },\r\n    },\r\n    mounted() {\r\n\r\n        document.documentElement.style.setProperty('--color_p', '#FFA05F');\r\n        document.documentElement.style.setProperty('--color_bg', '66, 40, 35');\r\n    },\r\n\r\n}\r\n</script>\r\n"]}]}