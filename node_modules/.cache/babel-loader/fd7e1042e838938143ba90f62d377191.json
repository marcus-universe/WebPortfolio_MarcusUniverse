{"remainingRequest":"M:\\Me\\WebPortfolio_2022\\node_modules\\babel-loader\\lib\\index.js!M:\\Me\\WebPortfolio_2022\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!M:\\Me\\WebPortfolio_2022\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!M:\\Me\\WebPortfolio_2022\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!M:\\Me\\WebPortfolio_2022\\src\\views\\Explore.vue?vue&type=template&id=37a9cfc9","dependencies":[{"path":"M:\\Me\\WebPortfolio_2022\\src\\views\\Explore.vue","mtime":1670926086000},{"path":"M:\\Me\\WebPortfolio_2022\\babel.config.js","mtime":1644654802000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669048916000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\babel-loader\\lib\\index.js","mtime":1667990788000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1670695058000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669048916000},{"path":"M:\\Me\\WebPortfolio_2022\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1670695058000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBUcmFuc2l0aW9uR3JvdXAgYXMgX1RyYW5zaXRpb25Hcm91cCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAiU2VjdGlvbiBFeHBsb3JlIgp9Owpjb25zdCBfaG9pc3RlZF8yID0gewogIHJlZjogIndvcmtEb20iLAogIGNsYXNzOiAid29ya0RvbSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X0V4cGxvcmVCYW5uZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRXhwbG9yZUJhbm5lciIpOwogIGNvbnN0IF9jb21wb25lbnRfV29ya1RodW1ibmFpbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJXb3JrVGh1bWJuYWlsIik7CiAgY29uc3QgX2NvbXBvbmVudF9Nb3JlV29ya3MgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTW9yZVdvcmtzIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0V4cGxvcmVCYW5uZXIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9UcmFuc2l0aW9uR3JvdXAsIHsKICAgIG5hbWU6ICJmYWRlV29yayIsCiAgICB0YWc6ICJkaXYiLAogICAgY2xhc3M6ICJmbGV4X2NfaCBmbGV4X3dyYXAgZ2FwMiBXb3JrTGlzdCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAubG9hZFdvcmtzLCAod29yaywgaW5kZXgpID0+IHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfV29ya1RodW1ibmFpbCwgewogICAgICAgIGtleTogd29yaywKICAgICAgICB3b3JrOiB3b3JrLAogICAgICAgIGluZGV4OiBpbmRleAogICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbIndvcmsiLCAiaW5kZXgiXSk7CiAgICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSwKCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pXSwgNTEyIC8qIE5FRURfUEFUQ0ggKi8pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Nb3JlV29ya3MpXSk7Cn0="},{"version":3,"mappings":";;EAEKA,KAAK,EAAC;AAAiB;;EAInBC,GAAG,EAAC,SAAS;EAACD,KAAK,EAAC;;;;;;uBAJ7BE,oBAmBM,OAnBNC,UAmBM,GAhBFC,aAAiBC,2BACjBC,oBAWM,OAXNC,UAWM,GAVFH,aASmBI;IARfC,IAAI,EAAC,UAAU;IACfC,GAAG,EAAC,KAAK;IACTV,KAAK,EAAC;;sBAEF,MAAkC,oBADtCE,oBAIqBS,6BAHOC,gBAAS,GAAzBC,IAAI,EAAEC,KAAK;2BADvBC,aAIqBC;QAFhBC,GAAG,EAAEJ,IAAI;QACTA,IAAI,EAAEA,IAAI;QACVC,KAAK,EAAEA;;;;;8BAIpBV,aAAac","names":["class","ref","_createElementBlock","_hoisted_1","_createVNode","_component_ExploreBanner","_createElementVNode","_hoisted_2","_TransitionGroup","name","tag","_Fragment","$setup","work","index","_createBlock","_component_WorkThumbnail","key","_component_MoreWorks"],"sourceRoot":"","sources":["M:\\Me\\WebPortfolio_2022\\src\\views\\Explore.vue"],"sourcesContent":["<template>\r\n\r\n<div class=\"Section Explore\">\r\n\r\n\r\n    <ExploreBanner />\r\n    <div ref=\"workDom\" class=\"workDom\">\r\n        <transition-group\r\n            name=\"fadeWork\"\r\n            tag=\"div\"\r\n            class=\"flex_c_h flex_wrap gap2 WorkList\">\r\n            <WorkThumbnail\r\n                v-for=\"(work, index) in loadWorks\"\r\n                :key=\"work\"\r\n                :work=\"work\"\r\n                :index=\"index\" />\r\n        </transition-group>\r\n    </div>\r\n\r\n    <MoreWorks />\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    ref,\r\n    onMounted,\r\n    onUnmounted,\r\n    computed,\r\n    defineAsyncComponent\r\n} from 'vue'\r\n\r\nimport WorkThumbnail from '@/components/Explore/WorkThumbnail.vue'\r\nimport ExploreBanner from '@/components/Explore/ExploreBanner.vue'\r\nconst MoreWorks = defineAsyncComponent(() =>\r\n    import( /* webpackChunkName: 'more_works' */  '@/components/Explore/MoreWorks.vue')\r\n)\r\nimport {\r\n    useStore\r\n} from 'vuex'\r\n\r\nexport default {\r\n    name: 'Explore',\r\n    setup() {\r\n\r\n        const workDom = ref(null)\r\n        const sliceNumber = ref(6)\r\n        const store = useStore()\r\n        const works = computed(() => store.state.works)\r\n\r\n        const loadWorks = computed(() => {\r\n            const workList = []\r\n            for (let i = 0; i < sliceNumber.value; i++) {\r\n                workList.push(works.value[i])\r\n            }\r\n            return workList\r\n        })\r\n        console.log(loadWorks.value)\r\n\r\n        onMounted(() => {\r\n            window.addEventListener('scroll', handleScroll)\r\n        })\r\n\r\n        onUnmounted(() => {\r\n            window.removeEventListener('scroll', handleScroll)\r\n        })\r\n\r\n        function loadMoreWorks(){\r\n            if (sliceNumber.value < works.value.length) {\r\n                if (works.value.length % 2 === 0) {\r\n                    sliceNumber.value += 2\r\n                } else {\r\n                    sliceNumber.value += 3\r\n                }\r\n            }\r\n\r\n            if (sliceNumber.value === works.value.length || sliceNumber.value > works.value.length) {\r\n                window.removeEventListener('scroll', handleScroll)\r\n            }\r\n        }\r\n\r\n        const handleScroll = () => {\r\n            const element = workDom.value\r\n            try {\r\n                if (element.getBoundingClientRect().bottom < window.innerHeight) {\r\n                    loadMoreWorks()\r\n                } \r\n            }catch (error) {\r\n                console.log(error)\r\n                sliceNumber.value = works.value.length\r\n            }\r\n            \r\n        }\r\n\r\n        return {\r\n            workDom,\r\n            sliceNumber,\r\n            loadWorks,\r\n            store,\r\n            works\r\n        }\r\n    },\r\n    components: {\r\n        WorkThumbnail,\r\n        ExploreBanner,\r\n        MoreWorks,\r\n\r\n    },\r\n    methods: {\r\n\r\n    },\r\n\r\n    computed: {\r\n        color_p() {\r\n            return this.$store.state.color_p;\r\n        },\r\n        color_bg() {\r\n            return this.$store.state.color_bg;\r\n        },\r\n    },\r\n    mounted() {\r\n\r\n        document.documentElement.style.setProperty('--color_p', '#FFA05F');\r\n        document.documentElement.style.setProperty('--color_bg', '66, 40, 35');\r\n    },\r\n\r\n}\r\n</script>\r\n"]}]}